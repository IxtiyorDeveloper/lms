import React, { FC } from "react";
import StatisticsCard from "../../../components/statisticsCard";
import { StudentWrapper } from "./style";
import SingleAreaChart from "../../../components/statisticsCard/components/singleAreaChart";
import { bgColors } from "styles/theme";
import { useWaitingListStatistics } from "hooks";
import moment from "moment/moment";
import { useRouter } from "next/router";
import { useData } from "../hook/useData";
import { Spin } from "antd";
import { MySelect } from "components";
import { useForm } from "react-hook-form";
import { DATE_FORMAT_YYYY_MM_DD } from "constants/dates";

interface IProps {
  data?: any;
}

const from_date = moment().startOf("month").format(DATE_FORMAT_YYYY_MM_DD);
const to_date = moment().format(DATE_FORMAT_YYYY_MM_DD);

const WaitingList: FC<IProps> = ({}) => {
  const router = useRouter();
  const { isLoading, data } = useWaitingListStatistics({
    query_params: {
      ...router.query,
      from_date: router.query.from_date || from_date,
      to_date: router.query.to_date || to_date,
    },
  });
  const chartData = useData({ data });
  const { control, watch } = useForm();
  return (
    <Spin spinning={isLoading}>
      <StudentWrapper>
        <StatisticsCard
          selectNode={
            <MySelect
              style={{ width: "160px", marginLeft: "auto" }}
              name="sources"
              control={control}
              placeholder="All sources"
              options={chartData.sourceSelect()}
            />
          }
          title={
            <svg
              width="178"
              height="10"
              viewBox="0 0 178 10"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7.85865 3.32812H5.99217C5.95808 3.08665 5.88848 2.87216 5.78336 2.68466C5.67825 2.49432 5.54331 2.33239 5.37853 2.19886C5.21376 2.06534 5.02342 1.96307 4.80751 1.89205C4.59444 1.82102 4.36291 1.78551 4.11291 1.78551C3.66121 1.78551 3.26774 1.89773 2.93251 2.12216C2.59728 2.34375 2.33734 2.66761 2.15268 3.09375C1.96802 3.51705 1.87569 4.03125 1.87569 4.63636C1.87569 5.25852 1.96802 5.78125 2.15268 6.20455C2.34018 6.62784 2.60155 6.94744 2.93677 7.16335C3.272 7.37926 3.65978 7.48722 4.10013 7.48722C4.34728 7.48722 4.57598 7.45455 4.78621 7.3892C4.99927 7.32386 5.18819 7.22869 5.35297 7.10369C5.51774 6.97585 5.6541 6.82102 5.76206 6.6392C5.87285 6.45739 5.94956 6.25 5.99217 6.01705L7.85865 6.02557C7.81035 6.42614 7.68961 6.8125 7.49643 7.18466C7.30609 7.55398 7.04899 7.88494 6.72513 8.17756C6.4041 8.46733 6.02058 8.69744 5.57456 8.8679C5.13138 9.03551 4.62996 9.11932 4.0703 9.11932C3.29189 9.11932 2.59586 8.94318 1.98223 8.59091C1.37143 8.23864 0.888478 7.72869 0.533364 7.06108C0.181091 6.39347 0.00495495 5.58523 0.00495495 4.63636C0.00495495 3.68466 0.183932 2.875 0.541887 2.20739C0.899841 1.53977 1.38564 1.03125 1.99927 0.681818C2.61291 0.329545 3.30325 0.153409 4.0703 0.153409C4.57598 0.153409 5.04473 0.224432 5.47655 0.366477C5.91121 0.508523 6.29615 0.715909 6.63138 0.988636C6.9666 1.25852 7.23933 1.58949 7.44956 1.98153C7.66263 2.37358 7.79899 2.82244 7.85865 3.32812ZM9.02771 9V2.45455H10.7877V3.59659H10.8558C10.9752 3.19034 11.1754 2.88352 11.4567 2.67614C11.7379 2.46591 12.0618 2.3608 12.4283 2.3608C12.5192 2.3608 12.6172 2.36648 12.7223 2.37784C12.8274 2.3892 12.9198 2.40483 12.9993 2.42472V4.03551C12.9141 4.00994 12.7962 3.98722 12.6456 3.96733C12.495 3.94744 12.3573 3.9375 12.2323 3.9375C11.9652 3.9375 11.7266 3.99574 11.5163 4.11222C11.309 4.22585 11.1442 4.38494 11.022 4.58949C10.9027 4.79403 10.8431 5.02983 10.8431 5.29688V9H9.02771ZM16.4961 9.12784C15.8228 9.12784 15.2433 8.99148 14.7575 8.71875C14.2745 8.44318 13.9024 8.05398 13.641 7.55114C13.3797 7.04545 13.249 6.44744 13.249 5.7571C13.249 5.08381 13.3797 4.4929 13.641 3.98438C13.9024 3.47585 14.2703 3.07955 14.7447 2.79545C15.222 2.51136 15.7816 2.36932 16.4237 2.36932C16.8555 2.36932 17.2575 2.43892 17.6297 2.57812C18.0047 2.71449 18.3314 2.92045 18.6098 3.19602C18.891 3.47159 19.1098 3.81818 19.266 4.2358C19.4223 4.65057 19.5004 5.13636 19.5004 5.69318V6.19176H13.9734V5.06676H17.7916C17.7916 4.8054 17.7348 4.57386 17.6211 4.37216C17.5075 4.17045 17.3498 4.01278 17.1481 3.89915C16.9493 3.78267 16.7177 3.72443 16.4535 3.72443C16.178 3.72443 15.9336 3.78835 15.7206 3.91619C15.5103 4.04119 15.3456 4.21023 15.2262 4.4233C15.1069 4.63352 15.0459 4.8679 15.043 5.12642V6.19602C15.043 6.51989 15.1027 6.79972 15.222 7.03551C15.3441 7.27131 15.516 7.45312 15.7376 7.58097C15.9592 7.70881 16.222 7.77273 16.526 7.77273C16.7277 7.77273 16.9123 7.74432 17.0799 7.6875C17.2476 7.63068 17.391 7.54545 17.5103 7.43182C17.6297 7.31818 17.7206 7.17898 17.7831 7.0142L19.462 7.125C19.3768 7.52841 19.2021 7.88068 18.9379 8.18182C18.6765 8.48011 18.3385 8.71307 17.9237 8.88068C17.5118 9.04545 17.0359 9.12784 16.4961 9.12784ZM22.4315 9.12358C22.0139 9.12358 21.6418 9.05114 21.3151 8.90625C20.9883 8.75852 20.7298 8.54119 20.5395 8.25426C20.352 7.96449 20.2582 7.60369 20.2582 7.17188C20.2582 6.80824 20.325 6.50284 20.4585 6.25568C20.592 6.00852 20.7739 5.80966 21.004 5.65909C21.2341 5.50852 21.4955 5.39489 21.7881 5.31818C22.0835 5.24148 22.3932 5.1875 22.717 5.15625C23.0977 5.11648 23.4045 5.07955 23.6375 5.04545C23.8705 5.00852 24.0395 4.95455 24.1446 4.88352C24.2497 4.8125 24.3023 4.70739 24.3023 4.56818V4.54261C24.3023 4.27273 24.217 4.06392 24.0466 3.91619C23.879 3.76847 23.6403 3.6946 23.3307 3.6946C23.004 3.6946 22.744 3.76705 22.5508 3.91193C22.3577 4.05398 22.2298 4.23295 22.1673 4.44886L20.4883 4.3125C20.5736 3.91477 20.7412 3.57102 20.9912 3.28125C21.2412 2.98864 21.5636 2.7642 21.9585 2.60795C22.3562 2.44886 22.8165 2.36932 23.3392 2.36932C23.7028 2.36932 24.0508 2.41193 24.3832 2.49716C24.7185 2.58239 25.0153 2.71449 25.2739 2.89347C25.5352 3.07244 25.7412 3.30256 25.8918 3.58381C26.0423 3.86222 26.1176 4.19602 26.1176 4.58523V9H24.396V8.09233H24.3449C24.2398 8.29688 24.0991 8.47727 23.923 8.63352C23.7469 8.78693 23.5352 8.90767 23.2881 8.99574C23.0409 9.08097 22.7554 9.12358 22.4315 9.12358ZM22.9514 7.87074C23.2185 7.87074 23.4543 7.81818 23.6588 7.71307C23.8633 7.60511 24.0239 7.46023 24.1403 7.27841C24.2568 7.09659 24.3151 6.89062 24.3151 6.66051V5.96591C24.2582 6.00284 24.1801 6.03693 24.0807 6.06818C23.9841 6.09659 23.8747 6.12358 23.7526 6.14915C23.6304 6.17187 23.5082 6.19318 23.3861 6.21307C23.2639 6.23011 23.1531 6.24574 23.0537 6.25994C22.8406 6.29119 22.6545 6.34091 22.4955 6.40909C22.3364 6.47727 22.2128 6.5696 22.1247 6.68608C22.0366 6.79972 21.9926 6.94176 21.9926 7.11222C21.9926 7.35938 22.0821 7.5483 22.2611 7.67898C22.4429 7.80682 22.673 7.87074 22.9514 7.87074ZM30.8875 2.45455V3.81818H26.9458V2.45455H30.8875ZM27.8407 0.886364H29.656V6.98864C29.656 7.15625 29.6816 7.28693 29.7327 7.38068C29.7838 7.47159 29.8549 7.53551 29.9458 7.57244C30.0395 7.60937 30.1475 7.62784 30.2696 7.62784C30.3549 7.62784 30.4401 7.62074 30.5253 7.60653C30.6105 7.58949 30.6759 7.5767 30.7213 7.56818L31.0068 8.91903C30.9159 8.94744 30.7881 8.98011 30.6233 9.01705C30.4585 9.05682 30.2583 9.08097 30.0225 9.08949C29.585 9.10653 29.2014 9.0483 28.8719 8.91477C28.5452 8.78125 28.2909 8.57386 28.1091 8.29261C27.9273 8.01136 27.8378 7.65625 27.8407 7.22727V0.886364ZM34.8627 9.12784C34.1894 9.12784 33.6099 8.99148 33.1241 8.71875C32.6411 8.44318 32.2689 8.05398 32.0076 7.55114C31.7462 7.04545 31.6155 6.44744 31.6155 5.7571C31.6155 5.08381 31.7462 4.4929 32.0076 3.98438C32.2689 3.47585 32.6368 3.07955 33.1113 2.79545C33.5886 2.51136 34.1482 2.36932 34.7903 2.36932C35.2221 2.36932 35.6241 2.43892 35.9962 2.57812C36.3712 2.71449 36.6979 2.92045 36.9763 3.19602C37.2576 3.47159 37.4763 3.81818 37.6326 4.2358C37.7888 4.65057 37.867 5.13636 37.867 5.69318V6.19176H32.34V5.06676H36.1582C36.1582 4.8054 36.1013 4.57386 35.9877 4.37216C35.8741 4.17045 35.7164 4.01278 35.5147 3.89915C35.3158 3.78267 35.0843 3.72443 34.8201 3.72443C34.5445 3.72443 34.3002 3.78835 34.0871 3.91619C33.8769 4.04119 33.7121 4.21023 33.5928 4.4233C33.4735 4.63352 33.4124 4.8679 33.4096 5.12642V6.19602C33.4096 6.51989 33.4692 6.79972 33.5886 7.03551C33.7107 7.27131 33.8826 7.45312 34.1042 7.58097C34.3258 7.70881 34.5886 7.77273 34.8925 7.77273C35.0942 7.77273 35.2789 7.74432 35.4465 7.6875C35.6141 7.63068 35.7576 7.54545 35.8769 7.43182C35.9962 7.31818 36.0871 7.17898 36.1496 7.0142L37.8286 7.125C37.7434 7.52841 37.5687 7.88068 37.3045 8.18182C37.0431 8.48011 36.705 8.71307 36.2903 8.88068C35.8783 9.04545 35.4025 9.12784 34.8627 9.12784ZM41.3435 9.10653C40.8464 9.10653 40.3961 8.97869 39.9927 8.72301C39.5921 8.46449 39.2739 8.08523 39.0381 7.58523C38.8052 7.08239 38.6887 6.46591 38.6887 5.7358C38.6887 4.9858 38.8095 4.36222 39.0509 3.86506C39.2924 3.36506 39.6134 2.99148 40.014 2.74432C40.4174 2.49432 40.8592 2.36932 41.3393 2.36932C41.7058 2.36932 42.0112 2.43182 42.2555 2.55682C42.5026 2.67898 42.7015 2.83239 42.8521 3.01705C43.0055 3.19886 43.122 3.37784 43.2015 3.55398H43.2569V0.272727H45.068V9H43.2782V7.9517H43.2015C43.1163 8.13352 42.9955 8.31392 42.8393 8.4929C42.6859 8.66903 42.4856 8.81534 42.2384 8.93182C41.9941 9.0483 41.6958 9.10653 41.3435 9.10653ZM41.9188 7.66193C42.2114 7.66193 42.4586 7.58239 42.6603 7.4233C42.8649 7.26136 43.0211 7.03551 43.1291 6.74574C43.2399 6.45597 43.2953 6.11648 43.2953 5.72727C43.2953 5.33807 43.2413 5 43.1333 4.71307C43.0254 4.42614 42.8691 4.20455 42.6646 4.0483C42.46 3.89205 42.2114 3.81392 41.9188 3.81392C41.6205 3.81392 41.3691 3.89489 41.1646 4.05682C40.96 4.21875 40.8052 4.44318 40.7001 4.73011C40.595 5.01705 40.5424 5.34943 40.5424 5.72727C40.5424 6.10795 40.595 6.4446 40.7001 6.73722C40.808 7.02699 40.9629 7.25426 41.1646 7.41903C41.3691 7.58097 41.6205 7.66193 41.9188 7.66193ZM54.5439 4.32102L52.882 4.4233C52.8535 4.28125 52.7925 4.15341 52.6987 4.03977C52.605 3.9233 52.4814 3.83097 52.328 3.76278C52.1774 3.69176 51.997 3.65625 51.7868 3.65625C51.5055 3.65625 51.2683 3.71591 51.0751 3.83523C50.882 3.9517 50.7854 4.10795 50.7854 4.30398C50.7854 4.46023 50.8479 4.59233 50.9729 4.70028C51.0979 4.80824 51.3124 4.89489 51.6163 4.96023L52.801 5.19886C53.4374 5.32955 53.9118 5.53977 54.2243 5.82955C54.5368 6.11932 54.693 6.5 54.693 6.97159C54.693 7.40057 54.5666 7.77699 54.3138 8.10085C54.0638 8.42472 53.72 8.67756 53.2825 8.85938C52.8479 9.03835 52.3464 9.12784 51.7783 9.12784C50.9118 9.12784 50.2214 8.94744 49.7072 8.58665C49.1959 8.22301 48.8962 7.72869 48.8081 7.10369L50.5936 7.00994C50.6476 7.27415 50.7783 7.47585 50.9857 7.61506C51.193 7.75142 51.4587 7.8196 51.7825 7.8196C52.1007 7.8196 52.3564 7.75852 52.5496 7.63636C52.7456 7.51136 52.845 7.35085 52.8479 7.15483C52.845 6.99006 52.7754 6.85511 52.6391 6.75C52.5027 6.64205 52.2925 6.55966 52.0084 6.50284L50.8749 6.27699C50.2357 6.14915 49.7598 5.92756 49.4473 5.61222C49.1376 5.29687 48.9828 4.89489 48.9828 4.40625C48.9828 3.9858 49.0964 3.62358 49.3237 3.3196C49.5538 3.01562 49.8763 2.78125 50.291 2.61648C50.7087 2.4517 51.1973 2.36932 51.757 2.36932C52.5837 2.36932 53.2342 2.54403 53.7087 2.89347C54.1859 3.2429 54.4643 3.71875 54.5439 4.32102ZM59.1977 2.45455V3.81818H55.2559V2.45455H59.1977ZM56.1508 0.886364H57.9661V6.98864C57.9661 7.15625 57.9917 7.28693 58.0429 7.38068C58.094 7.47159 58.165 7.53551 58.2559 7.57244C58.3497 7.60937 58.4576 7.62784 58.5798 7.62784C58.665 7.62784 58.7502 7.62074 58.8355 7.60653C58.9207 7.58949 58.986 7.5767 59.0315 7.56818L59.317 8.91903C59.2261 8.94744 59.0982 8.98011 58.9335 9.01705C58.7687 9.05682 58.5684 9.08097 58.3326 9.08949C57.8951 9.10653 57.5116 9.0483 57.1821 8.91477C56.8554 8.78125 56.6011 8.57386 56.4193 8.29261C56.2375 8.01136 56.148 7.65625 56.1508 7.22727V0.886364ZM64.4577 6.21307V2.45455H66.273V9H64.5301V7.81108H64.4619C64.3142 8.1946 64.0684 8.50284 63.7247 8.7358C63.3838 8.96875 62.9676 9.08523 62.4761 9.08523C62.0386 9.08523 61.6537 8.9858 61.3213 8.78693C60.9889 8.58807 60.729 8.3054 60.5415 7.93892C60.3568 7.57244 60.2631 7.13352 60.2602 6.62216V2.45455H62.0756V6.2983C62.0784 6.68466 62.1821 6.99006 62.3866 7.21449C62.5912 7.43892 62.8653 7.55114 63.2091 7.55114C63.4278 7.55114 63.6324 7.50142 63.8227 7.40199C64.0131 7.29972 64.1665 7.14915 64.2829 6.95028C64.4023 6.75142 64.4605 6.50568 64.4577 6.21307ZM70.017 9.10653C69.5198 9.10653 69.0695 8.97869 68.6661 8.72301C68.2656 8.46449 67.9474 8.08523 67.7116 7.58523C67.4786 7.08239 67.3622 6.46591 67.3622 5.7358C67.3622 4.9858 67.4829 4.36222 67.7244 3.86506C67.9659 3.36506 68.2869 2.99148 68.6874 2.74432C69.0909 2.49432 69.5326 2.36932 70.0127 2.36932C70.3792 2.36932 70.6846 2.43182 70.9289 2.55682C71.1761 2.67898 71.3749 2.83239 71.5255 3.01705C71.6789 3.19886 71.7954 3.37784 71.8749 3.55398H71.9303V0.272727H73.7414V9H71.9516V7.9517H71.8749C71.7897 8.13352 71.669 8.31392 71.5127 8.4929C71.3593 8.66903 71.159 8.81534 70.9119 8.93182C70.6676 9.0483 70.3693 9.10653 70.017 9.10653ZM70.5923 7.66193C70.8849 7.66193 71.132 7.58239 71.3337 7.4233C71.5383 7.26136 71.6945 7.03551 71.8025 6.74574C71.9133 6.45597 71.9687 6.11648 71.9687 5.72727C71.9687 5.33807 71.9147 5 71.8068 4.71307C71.6988 4.42614 71.5426 4.20455 71.338 4.0483C71.1335 3.89205 70.8849 3.81392 70.5923 3.81392C70.294 3.81392 70.0426 3.89489 69.838 4.05682C69.6335 4.21875 69.4786 4.44318 69.3735 4.73011C69.2684 5.01705 69.2159 5.34943 69.2159 5.72727C69.2159 6.10795 69.2684 6.4446 69.3735 6.73722C69.4815 7.02699 69.6363 7.25426 69.838 7.41903C70.0426 7.58097 70.294 7.66193 70.5923 7.66193ZM78.0969 9.12784C77.4236 9.12784 76.8441 8.99148 76.3583 8.71875C75.8753 8.44318 75.5032 8.05398 75.2418 7.55114C74.9804 7.04545 74.8498 6.44744 74.8498 5.7571C74.8498 5.08381 74.9804 4.4929 75.2418 3.98438C75.5032 3.47585 75.8711 3.07955 76.3455 2.79545C76.8228 2.51136 77.3824 2.36932 78.0245 2.36932C78.4563 2.36932 78.8583 2.43892 79.2304 2.57812C79.6054 2.71449 79.9321 2.92045 80.2105 3.19602C80.4918 3.47159 80.7105 3.81818 80.8668 4.2358C81.023 4.65057 81.1012 5.13636 81.1012 5.69318V6.19176H75.5742V5.06676H79.3924C79.3924 4.8054 79.3355 4.57386 79.2219 4.37216C79.1083 4.17045 78.9506 4.01278 78.7489 3.89915C78.55 3.78267 78.3185 3.72443 78.0543 3.72443C77.7787 3.72443 77.5344 3.78835 77.3213 3.91619C77.1111 4.04119 76.9463 4.21023 76.827 4.4233C76.7077 4.63352 76.6466 4.8679 76.6438 5.12642V6.19602C76.6438 6.51989 76.7034 6.79972 76.8228 7.03551C76.9449 7.27131 77.1168 7.45312 77.3384 7.58097C77.56 7.70881 77.8228 7.77273 78.1267 7.77273C78.3284 7.77273 78.5131 7.74432 78.6807 7.6875C78.8483 7.63068 78.9918 7.54545 79.1111 7.43182C79.2304 7.31818 79.3213 7.17898 79.3838 7.0142L81.0628 7.125C80.9776 7.52841 80.8029 7.88068 80.5387 8.18182C80.2773 8.48011 79.9392 8.71307 79.5245 8.88068C79.1125 9.04545 78.6367 9.12784 78.0969 9.12784ZM83.9812 5.21591V9H82.1658V2.45455H83.896V3.60938H83.9727C84.1175 3.22869 84.3604 2.92756 84.7013 2.70597C85.0423 2.48153 85.4556 2.36932 85.9414 2.36932C86.396 2.36932 86.7923 2.46875 87.1303 2.66761C87.4684 2.86648 87.7312 3.15057 87.9187 3.51989C88.1062 3.88636 88.1999 4.32386 88.1999 4.83239V9H86.3846V5.15625C86.3874 4.75568 86.2852 4.44318 86.0778 4.21875C85.8704 3.99148 85.5849 3.87784 85.2212 3.87784C84.9769 3.87784 84.761 3.9304 84.5735 4.03551C84.3888 4.14062 84.244 4.29403 84.1388 4.49574C84.0366 4.6946 83.984 4.93466 83.9812 5.21591ZM92.9922 2.45455V3.81818H89.0505V2.45455H92.9922ZM89.9453 0.886364H91.7607V6.98864C91.7607 7.15625 91.7862 7.28693 91.8374 7.38068C91.8885 7.47159 91.9595 7.53551 92.0505 7.57244C92.1442 7.60937 92.2522 7.62784 92.3743 7.62784C92.4595 7.62784 92.5448 7.62074 92.63 7.60653C92.7152 7.58949 92.7806 7.5767 92.826 7.56818L93.1115 8.91903C93.0206 8.94744 92.8928 8.98011 92.728 9.01705C92.5632 9.05682 92.363 9.08097 92.1272 9.08949C91.6897 9.10653 91.3061 9.0483 90.9766 8.91477C90.6499 8.78125 90.3956 8.57386 90.2138 8.29261C90.032 8.01136 89.9425 7.65625 89.9453 7.22727V0.886364ZM99.4187 4.32102L97.7568 4.4233C97.7284 4.28125 97.6673 4.15341 97.5736 4.03977C97.4798 3.9233 97.3562 3.83097 97.2028 3.76278C97.0523 3.69176 96.8719 3.65625 96.6616 3.65625C96.3804 3.65625 96.1432 3.71591 95.95 3.83523C95.7568 3.9517 95.6602 4.10795 95.6602 4.30398C95.6602 4.46023 95.7227 4.59233 95.8477 4.70028C95.9727 4.80824 96.1872 4.89489 96.4912 4.96023L97.6758 5.19886C98.3122 5.32955 98.7866 5.53977 99.0991 5.82955C99.4116 6.11932 99.5679 6.5 99.5679 6.97159C99.5679 7.40057 99.4415 7.77699 99.1886 8.10085C98.9386 8.42472 98.5949 8.67756 98.1574 8.85938C97.7227 9.03835 97.2213 9.12784 96.6531 9.12784C95.7866 9.12784 95.0963 8.94744 94.5821 8.58665C94.0707 8.22301 93.771 7.72869 93.6829 7.10369L95.4684 7.00994C95.5224 7.27415 95.6531 7.47585 95.8605 7.61506C96.0679 7.75142 96.3335 7.8196 96.6574 7.8196C96.9755 7.8196 97.2312 7.75852 97.4244 7.63636C97.6204 7.51136 97.7199 7.35085 97.7227 7.15483C97.7199 6.99006 97.6503 6.85511 97.5139 6.75C97.3775 6.64205 97.1673 6.55966 96.8832 6.50284L95.7497 6.27699C95.1105 6.14915 94.6346 5.92756 94.3221 5.61222C94.0125 5.29687 93.8577 4.89489 93.8577 4.40625C93.8577 3.9858 93.9713 3.62358 94.1986 3.3196C94.4287 3.01562 94.7511 2.78125 95.1659 2.61648C95.5835 2.4517 96.0721 2.36932 96.6318 2.36932C97.4585 2.36932 98.1091 2.54403 98.5835 2.89347C99.0608 3.2429 99.3392 3.71875 99.4187 4.32102ZM113.135 8.93182L112.146 7.9517L115.461 4.63636L112.146 1.32528L113.135 0.340909L117.43 4.63636L113.135 8.93182ZM104.024 6.47727V5.08807H116.054L114.656 6.47727H104.024ZM104.024 4.18466V2.79545H114.656L116.054 4.18466H104.024ZM121.91 9V0.272727H127.688V1.79403H123.755V3.87358H127.305V5.39489H123.755V9H121.91ZM128.67 9V2.45455H130.43V3.59659H130.498C130.617 3.19034 130.817 2.88352 131.099 2.67614C131.38 2.46591 131.704 2.3608 132.07 2.3608C132.161 2.3608 132.259 2.36648 132.364 2.37784C132.469 2.3892 132.562 2.40483 132.641 2.42472V4.03551C132.556 4.00994 132.438 3.98722 132.287 3.96733C132.137 3.94744 131.999 3.9375 131.874 3.9375C131.607 3.9375 131.368 3.99574 131.158 4.11222C130.951 4.22585 130.786 4.38494 130.664 4.58949C130.545 4.79403 130.485 5.02983 130.485 5.29688V9H128.67ZM136.138 9.12784C135.465 9.12784 134.885 8.99148 134.399 8.71875C133.916 8.44318 133.544 8.05398 133.283 7.55114C133.022 7.04545 132.891 6.44744 132.891 5.7571C132.891 5.08381 133.022 4.4929 133.283 3.98438C133.544 3.47585 133.912 3.07955 134.387 2.79545C134.864 2.51136 135.424 2.36932 136.066 2.36932C136.497 2.36932 136.899 2.43892 137.272 2.57812C137.647 2.71449 137.973 2.92045 138.252 3.19602C138.533 3.47159 138.752 3.81818 138.908 4.2358C139.064 4.65057 139.142 5.13636 139.142 5.69318V6.19176H133.615V5.06676H137.433C137.433 4.8054 137.377 4.57386 137.263 4.37216C137.149 4.17045 136.992 4.01278 136.79 3.89915C136.591 3.78267 136.36 3.72443 136.095 3.72443C135.82 3.72443 135.576 3.78835 135.362 3.91619C135.152 4.04119 134.987 4.21023 134.868 4.4233C134.749 4.63352 134.688 4.8679 134.685 5.12642V6.19602C134.685 6.51989 134.745 6.79972 134.864 7.03551C134.986 7.27131 135.158 7.45312 135.379 7.58097C135.601 7.70881 135.864 7.77273 136.168 7.77273C136.37 7.77273 136.554 7.74432 136.722 7.6875C136.889 7.63068 137.033 7.54545 137.152 7.43182C137.272 7.31818 137.362 7.17898 137.425 7.0142L139.104 7.125C139.019 7.52841 138.844 7.88068 138.58 8.18182C138.318 8.48011 137.98 8.71307 137.566 8.88068C137.154 9.04545 136.678 9.12784 136.138 9.12784ZM145.653 4.32102L143.991 4.4233C143.963 4.28125 143.902 4.15341 143.808 4.03977C143.714 3.9233 143.59 3.83097 143.437 3.76278C143.286 3.69176 143.106 3.65625 142.896 3.65625C142.615 3.65625 142.377 3.71591 142.184 3.83523C141.991 3.9517 141.894 4.10795 141.894 4.30398C141.894 4.46023 141.957 4.59233 142.082 4.70028C142.207 4.80824 142.421 4.89489 142.725 4.96023L143.91 5.19886C144.546 5.32955 145.021 5.53977 145.333 5.82955C145.646 6.11932 145.802 6.5 145.802 6.97159C145.802 7.40057 145.676 7.77699 145.423 8.10085C145.173 8.42472 144.829 8.67756 144.392 8.85938C143.957 9.03835 143.456 9.12784 142.887 9.12784C142.021 9.12784 141.331 8.94744 140.816 8.58665C140.305 8.22301 140.005 7.72869 139.917 7.10369L141.703 7.00994C141.757 7.27415 141.887 7.47585 142.095 7.61506C142.302 7.75142 142.568 7.8196 142.892 7.8196C143.21 7.8196 143.465 7.75852 143.659 7.63636C143.855 7.51136 143.954 7.35085 143.957 7.15483C143.954 6.99006 143.884 6.85511 143.748 6.75C143.612 6.64205 143.402 6.55966 143.117 6.50284L141.984 6.27699C141.345 6.14915 140.869 5.92756 140.556 5.61222C140.247 5.29687 140.092 4.89489 140.092 4.40625C140.092 3.9858 140.206 3.62358 140.433 3.3196C140.663 3.01562 140.985 2.78125 141.4 2.61648C141.818 2.4517 142.306 2.36932 142.866 2.36932C143.693 2.36932 144.343 2.54403 144.818 2.89347C145.295 3.2429 145.573 3.71875 145.653 4.32102ZM148.641 5.21591V9H146.825V0.272727H148.589V3.60938H148.666C148.814 3.22301 149.052 2.92045 149.382 2.7017C149.712 2.48011 150.125 2.36932 150.622 2.36932C151.077 2.36932 151.473 2.46875 151.811 2.66761C152.152 2.86364 152.416 3.14631 152.604 3.51562C152.794 3.8821 152.888 4.32102 152.885 4.83239V9H151.07V5.15625C151.072 4.75284 150.97 4.43892 150.763 4.21449C150.558 3.99006 150.271 3.87784 149.902 3.87784C149.655 3.87784 149.436 3.9304 149.246 4.03551C149.058 4.14062 148.91 4.29403 148.802 4.49574C148.697 4.6946 148.643 4.93466 148.641 5.21591ZM154.193 9V2.45455H155.924V3.60938H156C156.137 3.22585 156.364 2.9233 156.682 2.7017C157 2.48011 157.381 2.36932 157.824 2.36932C158.273 2.36932 158.655 2.48153 158.97 2.70597C159.286 2.92756 159.496 3.22869 159.601 3.60938H159.669C159.803 3.23438 160.044 2.93466 160.394 2.71023C160.746 2.48295 161.162 2.36932 161.642 2.36932C162.253 2.36932 162.749 2.56392 163.13 2.95312C163.513 3.33949 163.705 3.88778 163.705 4.59801V9H161.894V4.95597C161.894 4.59233 161.797 4.3196 161.604 4.13778C161.411 3.95597 161.169 3.86506 160.88 3.86506C160.55 3.86506 160.293 3.97017 160.108 4.1804C159.924 4.38778 159.831 4.66193 159.831 5.00284V9H158.071V4.91761C158.071 4.59659 157.979 4.34091 157.794 4.15057C157.613 3.96023 157.372 3.86506 157.074 3.86506C156.872 3.86506 156.691 3.91619 156.529 4.01847C156.37 4.1179 156.243 4.25852 156.149 4.44034C156.056 4.61932 156.009 4.82955 156.009 5.07102V9H154.193ZM166.885 9.12358C166.468 9.12358 166.096 9.05114 165.769 8.90625C165.442 8.75852 165.184 8.54119 164.993 8.25426C164.806 7.96449 164.712 7.60369 164.712 7.17188C164.712 6.80824 164.779 6.50284 164.912 6.25568C165.046 6.00852 165.228 5.80966 165.458 5.65909C165.688 5.50852 165.949 5.39489 166.242 5.31818C166.537 5.24148 166.847 5.1875 167.171 5.15625C167.551 5.11648 167.858 5.07955 168.091 5.04545C168.324 5.00852 168.493 4.95455 168.598 4.88352C168.703 4.8125 168.756 4.70739 168.756 4.56818V4.54261C168.756 4.27273 168.671 4.06392 168.5 3.91619C168.333 3.76847 168.094 3.6946 167.784 3.6946C167.458 3.6946 167.198 3.76705 167.005 3.91193C166.811 4.05398 166.684 4.23295 166.621 4.44886L164.942 4.3125C165.027 3.91477 165.195 3.57102 165.445 3.28125C165.695 2.98864 166.017 2.7642 166.412 2.60795C166.81 2.44886 167.27 2.36932 167.793 2.36932C168.157 2.36932 168.505 2.41193 168.837 2.49716C169.172 2.58239 169.469 2.71449 169.728 2.89347C169.989 3.07244 170.195 3.30256 170.346 3.58381C170.496 3.86222 170.571 4.19602 170.571 4.58523V9H168.85V8.09233H168.799C168.694 8.29688 168.553 8.47727 168.377 8.63352C168.201 8.78693 167.989 8.90767 167.742 8.99574C167.495 9.08097 167.209 9.12358 166.885 9.12358ZM167.405 7.87074C167.672 7.87074 167.908 7.81818 168.113 7.71307C168.317 7.60511 168.478 7.46023 168.594 7.27841C168.711 7.09659 168.769 6.89062 168.769 6.66051V5.96591C168.712 6.00284 168.634 6.03693 168.534 6.06818C168.438 6.09659 168.328 6.12358 168.206 6.14915C168.084 6.17187 167.962 6.19318 167.84 6.21307C167.718 6.23011 167.607 6.24574 167.507 6.25994C167.294 6.29119 167.108 6.34091 166.949 6.40909C166.79 6.47727 166.667 6.5696 166.578 6.68608C166.49 6.79972 166.446 6.94176 166.446 7.11222C166.446 7.35938 166.536 7.5483 166.715 7.67898C166.897 7.80682 167.127 7.87074 167.405 7.87074ZM173.675 5.21591V9H171.86V2.45455H173.59V3.60938H173.667C173.811 3.22869 174.054 2.92756 174.395 2.70597C174.736 2.48153 175.15 2.36932 175.635 2.36932C176.09 2.36932 176.486 2.46875 176.824 2.66761C177.162 2.86648 177.425 3.15057 177.613 3.51989C177.8 3.88636 177.894 4.32386 177.894 4.83239V9H176.078V5.15625C176.081 4.75568 175.979 4.44318 175.772 4.21875C175.564 3.99148 175.279 3.87784 174.915 3.87784C174.671 3.87784 174.455 3.9304 174.267 4.03551C174.083 4.14062 173.938 4.29403 173.833 4.49574C173.73 4.6946 173.678 4.93466 173.675 5.21591Z"
                fill="#23262F"
              />
            </svg>
          }
          full
        >
          <SingleAreaChart
            customTooltip
            x="date"
            y="count"
            data={chartData.byMonth(watch("sources"))}
            color={bgColors.midori}
          />
        </StatisticsCard>
        <div className="flex">
          <StatisticsCard title="By state" data={chartData.byState()} />
          <StatisticsCard
            title="By applicants"
            data={chartData.byApplication()}
          />
        </div>
        <div className="flex">
          <StatisticsCard title="By admins" data={chartData.byAdmin()} />
          <StatisticsCard title="By course" data={chartData.byCourse()} />
        </div>
        <div className="flex">
          <StatisticsCard title="By branch" data={chartData.byBranch()} />
          <StatisticsCard
            isTinyBar
            title="By level"
            data={chartData.byLevel()}
          />
        </div>
        <StatisticsCard title="By source" data={chartData.bySource()} />
        <StatisticsCard
          withTab
          full
          title="Registered Time"
          menu={chartData.byRegisterTime()}
        />
      </StudentWrapper>
    </Spin>
  );
};

export default WaitingList;
